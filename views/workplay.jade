extends layout

block content
    nav.navbar.navbar-default.navbar-static-top(role="navigation")
        .container-fluid
            .navbar-header
                button.navbar-toggle(type="button", data-toggle="collapse", data-target="#navbar-collapse-area")
                    span.icon-bar
                    span.icon-bar
                    span.icon-bar
                    span.icon-bar
                .navTitle balancr
            .collapse.navbar-collapse(id="navbar-collapse-area")
                ul.nav.navbar-nav
                    li.active
                        a(href="workplay") work/play
                    li
                        a(href="doughnut") doughnut
                    li
                        a(href="statistics") statistics
                    li
                        a(href="settings") settings
                    li
                        a(href="add") add activity
    .page
        .pageHeading
            span.heading work/play
            span.subheading
                a(href="calendar").link Today
        .pageContent
            canvas#canvas(height="500px", width="500px")
            .row
                .col-xs-6.percent 58%
                .col-xs-6.percent 42%
            .row
                .col-xs-6.category WORK
                    a(href="details").link
                        span.glyphicon.glyphicon-list.iconLink
                .col-xs-6.category PLAY
                    a(href="details").link
                        span.glyphicon.glyphicon-list.iconLink

    script.
        var pieData = [
                    {
                        value: 42,
                        color:"#F38630"
                    },
                    {
                        value : 58,
                        color : "#69D2E7"
                    }
                
                ];

        var myPie = new Chart(document.getElementById("canvas").getContext("2d")).Pie(pieData);

        var canvas = document.querySelector('canvas');
        var ctx = canvas.getContext('2d');

        function resize() {
            // Our canvas must cover full height of screen
            // regardless of the resolution
            var width = window.innerWidth - 50;
            
            // So we need to calculate the proper scaled width
            // that should work well with every resolution
            var ratio = canvas.height/canvas.width;
            var height = width * ratio;

            if (width > 500 || height > 500) {
                width = 500;
                height = 500;
            }
            
            canvas.style.width = width+'px';
            canvas.style.height = height+'px';
        }

        window.addEventListener('load', resize, false);
        window.addEventListener('resize', resize, false);